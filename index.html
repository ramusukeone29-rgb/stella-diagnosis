<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ステラ診断</title>
</head>
<body>
  <h1>🔮ステラ診断（３〜２１）</h1>
  <p>生年月日を入力してください</p>

  <input type="date" id="birthday">
  <button onclick="diagnose()">診断する</button>

  <p id="result"></p>

  <script>
    function diagnose() {
      const b = document.getElementById("birthday").value;
      if (!b) {
        document.getElementById("result").textContent = "生年月日を入力してね";
        return;
      }
      const nums = b.replaceAll("-", "").split("").map(Number);
      let sum = nums.reduce((a, c) => a + c, 0);
      while (sum > 21) {
        sum = sum.toString().split("").map(Number).reduce((a, c) => a + c, 0);
      }
      document.getElementById("result").textContent =
        "あなたのステラナンバーは「" + sum + "」です";
    }
  </script>
</body>
</html>
